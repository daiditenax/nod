<html>
    <body>

        <form method="POST">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" />
        
            <label for="email">Email</label>
            <input type="email" name="email" id="email" />
        
           <p>
             <input type="checkbox" name="topics" id="javascript" value="javascript" />
             <label for="javascript">JavaScript</label>
        
             <input type="checkbox" name="topics" id="html" value="html" />
             <label for="html">HTML</label>
        
             <input type="checkbox" name="topics" id="css" value="css" />
             <label for="css">CSS</label>
           </p>
        
            <button type="submit">Submit</button>
          </form>
          <script type="text/javascript">
          
          function handleSubmit(event) {
            event.preventDefault();
        
            const data = new FormData(event.target);
        
            const value = Object.fromEntries(data.entries());
        
            value.topics = data.getAll("topics");
        
            console.log({ value });
            var xhr = new XMLHttpRequest();
            var muRL = window.location.href;
            xhr.open("POST", muRL, true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify({value: value}));
            xhr.onreadystatechange = function() {
              if (xhr.readyState === 4) {
                 var body = xhr.response;
                 console.log("response" + body);
              }
            }
          }

        
          const form = document.querySelector("form");
          form.addEventListener("submit", handleSubmit);
        </script>
    </body>
</html>